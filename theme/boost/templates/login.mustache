{{! Stylish Boost login.mustache â€“ paste entire file }}
{{> theme_boost/head }}

<!-- Lottie Animation Script -->
<script src="https://unpkg.com/@lottiefiles/dotlottie-wc@0.8.1/dist/dotlottie-wc.js" type="module"></script>

<body {{{ bodyattributes }}}>
{{> core/local/toast/wrapper}}

<div id="page-wrapper">
  {{{ output.standard_top_of_body_html }}}

  <style>
    /* === Remove scrollbars and create single-view page === */
    html, body {
      overflow: hidden !important;
      height: 100vh !important;
      margin: 0 !important;
      padding: 0 !important;
      background: #ffffff !important;
    }

    /* === Figma Design Variables === */
    :root{
      --figma-blue: #1CB0F6;      /* Main blue color from Figma */
      --figma-green: #58CC02;     /* Custom green button color */
      --text-dark: #2c3e50;      /* Dark text */
      --text-light: #6c757d;     /* Light text */
      --bg-white: #ffffff;       /* White background */
      --border-light: #e9ecef;   /* Light borders */
    }

    /* Reset container gutters to go full-bleed */
    #page.container-fluid{padding-left:0;padding-right:0;}
    #page-content.row{margin-left:0;margin-right:0;}

    /* Remove all top spacing and margins */
    #page-wrapper {
      margin: 0 !important;
      padding: 0 !important;
      height: 100vh !important;
      overflow: hidden !important;
    }

    #page {
      margin: 0 !important;
      padding: 0 !important;
      height: 100vh !important;
    }

    #page-content {
      margin: 0 !important;
      padding: 0 !important;
      height: 100vh !important;
    }

    /* Remove any navbar or header spacing */
    body.pagelayout-login #page-header,
    body.pagelayout-login .navbar,
    body.pagelayout-login nav {
      display: none !important;
      margin: 0 !important;
      padding: 0 !important;
      height: 0 !important;
    }

    /* === Main Layout === */
    .mm-login{
      height: 100vh !important;
      display:grid;
      grid-template-columns:1fr;
      margin:0;
      padding:0;
      overflow: hidden;
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
    }
    @media (min-width: 992px){ 
      .mm-login{grid-template-columns:1fr 1fr;} 
    }

    /* Left side - Video/Image section */
    .mm-hero{
      display:none;
      align-items:center;
      justify-content:center;
      position:relative;
      overflow:hidden;
      background: linear-gradient(135deg, #1CB0F6 0%, #106790 100%);
    }
    @media (min-width: 992px){ 
      .mm-hero{display:flex;} 
    }

    /* Lottie animation styling */
    .mm-hero dotlottie-wc {
      width: 400px !important;
      height: 400px !important;
      max-width: 80%;
      max-height: 80%;
    }
    
    @media (max-width: 768px) {
      .mm-hero dotlottie-wc {
        width: 250px !important;
        height: 250px !important;
      }
    }

    /* Remove hero animations and decorations for clean look */

    /* Right side - Login form area */
    .mm-main{
      display:flex;
      align-items:center;
      justify-content:center;
      background: #ffffff !important;
      padding: 40px 20px;
      height: 100vh;
      overflow-y: auto;
      max-height: 100vh;
    }

    /* Login form container */
    .mm-card{
      width:100%;
      max-width:400px;
      padding: 0;
      background: transparent;
      border: none;
      box-shadow: none;
    }

    /* Custom Figma header */
    .figma-header .login-heading{
      font-size: 28px;
      font-weight: 700;
      color: var(--text-dark);
      margin-bottom: 8px;
      text-align: left;
      font-family: 'Arial', 'Helvetica', sans-serif;
    }

    /* Hide default Moodle headings */
    .mm-card .loginform h1,
    .mm-card .loginform .login-heading,
    .mm-card .login-container h1,
    .mm-card .login-container .login-heading{
      display: none !important;
    }

    /* Welcome text */
    .mm-card .welcome-text{
      color: var(--text-light);
      font-size: 16px;
      margin-bottom: 40px;
      text-align: left;
      font-weight: 600;
      font-family: 'Arial', 'Helvetica', sans-serif;
    }

    /* Form styling */
    .mm-card .login-form{
      width: 100%;
    }

    /* Ensure all form elements have rounded corners */
    .mm-card input,
    .mm-card button,
    .mm-card select,
    .mm-card textarea{
      border-radius: 25px !important;
    }

    /* Input fields */
    .mm-card .form-control,
    .mm-card input[type="text"],
    .mm-card input[type="email"],
    .mm-card input[type="password"],
    .mm-card select,
    .mm-card textarea{
      border: 1px solid var(--border-light);
      border-radius: 25px !important;
      padding: 16px;
      font-size: 16px;
      font-weight: 500;
      font-family: 'Arial', 'Helvetica', sans-serif;
      margin-bottom: 20px;
      background: var(--bg-white);
      transition: border-color 0.3s ease;
      width: 100%;
      height: auto;
    }

    .mm-card .form-control:focus,
    .mm-card input[type="text"]:focus,
    .mm-card input[type="email"]:focus,
    .mm-card input[type="password"]:focus,
    .mm-card select:focus,
    .mm-card textarea:focus{
      border-color: var(--figma-blue);
      outline: none;
      box-shadow: 0 0 0 3px rgba(28, 176, 246, 0.1);
    }

    .mm-card .form-control::placeholder,
    .mm-card input[type="text"]::placeholder,
    .mm-card input[type="email"]::placeholder,
    .mm-card input[type="password"]::placeholder{
      color: var(--text-light);
      font-weight: 400;
      font-family: 'Arial', 'Helvetica', sans-serif;
    }

    /* Login button - Custom Green */
    .mm-card .btn-primary,
    .mm-card button[type="submit"],
    .mm-card input[type="submit"],
    #loginbtn{
      background: var(--figma-green) !important;
      border: none !important;
      border-radius: 25px !important;
      padding: 16px !important;
      font-size: 16px !important;
      font-weight: 700 !important;
      font-family: 'Arial', 'Helvetica', sans-serif !important;
      color: white !important;
      width: 100% !important;
      margin-bottom: 20px !important;
      transition: background-color 0.3s ease !important;
      text-transform: none !important;
      box-shadow: none !important;
    }

    .mm-card .btn-primary:hover,
    .mm-card button[type="submit"]:hover,
    .mm-card input[type="submit"]:hover,
    #loginbtn:hover{
      background: #4fb802 !important;
      color: white !important;
    }

    .mm-card .btn-primary:focus,
    .mm-card button[type="submit"]:focus,
    .mm-card input[type="submit"]:focus,
    #loginbtn:focus{
      background: var(--figma-green) !important;
      box-shadow: 0 0 0 3px rgba(88, 204, 2, 0.3) !important;
      color: white !important;
    }

    /* Forgot password link */
    .mm-card .login-form-forgotpassword a{
      color: var(--text-light);
      font-size: 14px;
      font-weight: 500;
      font-family: 'Arial', 'Helvetica', sans-serif;
      text-decoration: none;
      text-align: center;
      display: block;
    }

    .mm-card .login-form-forgotpassword a:hover{
      color: var(--figma-blue);
      text-decoration: underline;
    }

    /* Guest login button - White background with green border and text */
    .mm-card .btn-secondary,
    .mm-card .potentialidp,
    .mm-card a.btn-secondary,
    .mm-card input[value*="guest"],
    .mm-card button[name*="guest"],
    .mm-card a[href*="guest"],
    body .mm-card .btn-secondary,
    body .mm-card .potentialidp,
    body .mm-card a.btn-secondary,
    .mm-card .login-form .btn-secondary,
    .mm-card form .btn-secondary,
    #page .mm-card .btn-secondary{
      background: white !important;
      background-color: white !important;
      border: 2px solid var(--figma-green) !important;
      border-color: var(--figma-green) !important;
      border-radius: 25px !important;
      padding: 16px !important;
      font-size: 16px !important;
      font-weight: 700 !important;
      font-family: 'Arial', 'Helvetica', sans-serif !important;
      color: var(--figma-green) !important;
      width: 100% !important;
      margin-bottom: 20px !important;
      transition: all 0.3s ease !important;
      text-transform: none !important;
      box-shadow: none !important;
      text-decoration: none !important;
      display: block !important;
      text-align: center !important;
    }

    .mm-card .btn-secondary:hover,
    .mm-card .potentialidp:hover,
    .mm-card a.btn-secondary:hover,
    body .mm-card .btn-secondary:hover,
    body .mm-card .potentialidp:hover,
    .mm-card .login-form .btn-secondary:hover,
    #page .mm-card .btn-secondary:hover{
      background: var(--figma-green) !important;
      background-color: var(--figma-green) !important;
      border: 2px solid var(--figma-green) !important;
      border-color: var(--figma-green) !important;
      color: white !important;
      text-decoration: none !important;
    }

    .mm-card .btn-secondary:focus,
    .mm-card .potentialidp:focus,
    .mm-card a.btn-secondary:focus,
    body .mm-card .btn-secondary:focus,
    body .mm-card .potentialidp:focus,
    .mm-card .login-form .btn-secondary:focus,
    #page .mm-card .btn-secondary:focus{
      background: white !important;
      background-color: white !important;
      border: 2px solid var(--figma-green) !important;
      border-color: var(--figma-green) !important;
      box-shadow: 0 0 0 3px rgba(88, 204, 2, 0.3) !important;
      color: var(--figma-green) !important;
    }

    /* Hide unnecessary elements */
    .mm-card .alert,
    .mm-card .login-divider,
    .mm-card .login-identityproviders,
    .mm-card .login-instructions,
    .mm-card .login-signup,
    .mm-card .login-languagemenu,
    .mm-card .d-flex,
    .mm-card .divider,
    .mm-divider,
    .mm-help{
      display: none !important;
    }

    /* Form groups */
    .mm-card .form-group{
      margin-bottom: 0;
    }

    .mm-card .login-form-username,
    .mm-card .login-form-password{
      margin-bottom: 20px;
    }

    .mm-card .login-form-submit{
      margin-bottom: 15px;
    }

    /* Remove any additional margins/padding */
    .mm-card .login-container{
      padding: 0;
      background: transparent;
      box-shadow: none;
      max-width: none;
      border-radius: 0;
    }

    /* Ensure proper form layout */
    .mm-card .loginform{
      background: transparent;
      padding: 0;
      border: none;
      box-shadow: none;
    }

    /* Mobile responsiveness */
    @media (max-width: 991px){
      .mm-main{
        padding: 20px;
        height: 100vh;
      }
      
      .mm-card{
        max-width: 100%;
      }
      
      /* Hide Lottie animation on mobile to save space */
      .mm-hero {
        display: none !important;
      }
    }

    /* Additional fixes for single-view page */
    #page-wrapper {
      height: 100vh;
      overflow: hidden;
      background: #ffffff !important;
    }

    /* Ensure Moodle containers don't add scroll */
    .container-fluid {
      height: 100vh !important;
      overflow: hidden !important;
      background: #ffffff !important;
    }

    /* Force white background for all page elements */
    #page,
    #page-content,
    .mm-login {
      background: #ffffff !important;
    }

    /* Hide any potential scrollbars from Moodle core */
    ::-webkit-scrollbar {
      width: 0px !important;
      background: transparent !important;
    }
  </style>

  <div id="page" class="container-fluid p-0">
    <div id="page-content" class="row g-0 mm-login">

      <!-- Left hero (desktop) - Lottie Animation section -->
      <aside class="mm-hero">
        <dotlottie-wc 
          src="https://lottie.host/4d201223-64b0-49bf-8c8f-01314e5a70e5/h5VHWQIdTk.lottie" 
          style="width: 400px; height: 400px" 
          autoplay 
          loop>
        </dotlottie-wc>
      </aside>

      <!-- Right: login card (Moodle form stays intact) -->
      <main id="region-main" class="mm-main" aria-label="{{#str}}content{{/str}}">
        <div class="mm-card">
          <!-- Custom heading matching Figma design -->
          <div class="figma-header">
            <h1 class="login-heading">Login</h1>
            <p class="welcome-text">Welcome Back</p>
          </div>
          
          {{{ output.main_content }}}
        </div>
      </main>
    </div>
  </div>

  <!-- Help button removed for clean Figma design -->

  {{> theme_boost/footer }}
</div>

</body>
</html>

{{#js}}
M.util.js_pending('theme_boost/loader');
require(['theme_boost/loader'], function() {
  M.util.js_complete('theme_boost/loader');
});
{{/js}}
