{{!
    This file is part of Moodle - http://moodle.org/
    Moodle is free software...
}}
{{!
    @template theme_boost/drawers
    Boost drawer template (customized with Site Home hero + course list styling)
}}
{{> theme_boost/head }}

<body {{{ bodyattributes }}}>
{{> core/local/toast/wrapper}}
<div id="page-wrapper" class="d-print-block">

    {{{ output.standard_top_of_body_html }}}

    {{> theme_boost/navbar }}

    {{! ===== FRONT PAGE HERO + GLOBAL FRONT-PAGE STYLES (scoped) ===== }}
    <style>
      /* Show hero only on Site home */
      .fp-hero-wrap { display:none; }
      body#page-site-index .fp-hero-wrap,
      body.path-site .fp-hero-wrap,
      body.pagelayout-frontpage .fp-hero-wrap { display:block; }

      /* Site home palette + background */
      body#page-site-index,
      body.path-site,
      body.pagelayout-frontpage {
        --brand-1:#2563eb;  /* primary */
        --brand-2:#7c3aed;  /* accent */
        --ink:#0f172a;
        --ink-2:#475569;
        --bg:#f1f5f9;
        --card:#ffffff;
        background: var(--bg);
      }

      /* Make hero full-bleed */
      body#page-site-index #page.container-fluid,
      body.path-site #page.container-fluid,
      body.pagelayout-frontpage #page.container-fluid { padding-left:0; padding-right:0; }

      /* Hero block */
      .fp-hero-wrap{ position:relative; overflow:hidden; color:#fff; }
      .fp-hero{
        display:grid; grid-template-columns:1fr; gap:24px;
        min-height:420px; padding:72px 20px;
        align-items:center; justify-items:center; text-align:center;
        background:
          radial-gradient(1200px 700px at -10% -20%, rgba(37,99,235,.35), transparent 60%),
          radial-gradient(900px 500px at 120% 110%, rgba(124,58,237,.30), transparent 60%),
          linear-gradient(135deg,#0b1222 0%,#121b31 60%,#0e162b 100%);
      }
      @media (min-width: 992px){
        .fp-hero{ grid-template-columns:1.1fr 0.9fr; text-align:left; padding:92px 60px; }
      }
      .fp-hero__brand{ max-width:760px; }
      .fp-hero__logo{ max-width:180px; height:auto; margin-bottom:16px; filter:drop-shadow(0 10px 24px rgba(0,0,0,.35)); }
      .fp-hero__title{ font-weight:800; font-size:clamp(28px,5vw,44px); margin:8px 0 10px; letter-spacing:.2px; }
      .fp-hero__sub{ font-size:clamp(14px,2.2vw,18px); opacity:.95; margin:0; color:rgba(255,255,255,.92); }
      .fp-hero__card{
        width:100%; max-width:520px; background:rgba(255,255,255,.86);
        border:1px solid rgba(15,23,42,.08); border-radius:20px; padding:24px;
        backdrop-filter:saturate(160%) blur(14px);
        box-shadow:0 22px 55px rgba(2,6,23,.10), 0 2px 12px rgba(2,6,23,.06);
        color:var(--ink);
      }
      .fp-chip{
        display:inline-block; padding:.4rem .7rem; border-radius:999px;
        background:#eef2ff; border:1px solid rgba(2,6,23,.06); color:#1e293b; font-weight:600; font-size:.85rem;
        margin-top:12px;
      }

      /* Buttons (front page only) */
      body#page-site-index .btn-primary,
      body.path-site .btn-primary,
      body.pagelayout-frontpage .btn-primary{
        border-radius:12px; padding:.65rem 1.05rem; font-weight:700;
        background:linear-gradient(90deg, var(--brand-1), var(--brand-2)); border:none;
      }
      body#page-site-index .btn-primary:hover,
      body.path-site .btn-primary:hover,
      body.pagelayout-frontpage .btn-primary:hover{ filter:brightness(1.05); }

      /* === Front page course list styling (cards/boxes) === */
      body#page-site-index #region-main .coursecard,
      body.path-site #region-main .coursecard,
      body.pagelayout-frontpage #region-main .coursecard,
      body#page-site-index #region-main .card.coursecard,
      body.path-site #region-main .card.coursecard,
      body.pagelayout-frontpage #region-main .card.coursecard,
      body#page-site-index #region-main .courses .card,
      body.path-site #region-main .courses .card,
      body.pagelayout-frontpage #region-main .courses .card,
      body#page-site-index #region-main .coursebox,
      body.path-site #region-main .coursebox,
      body.pagelayout-frontpage #region-main .coursebox {
        border-radius:16px;
        border:1px solid rgba(15,23,42,.08);
        box-shadow:0 12px 30px rgba(2,6,23,.06);
        background:#fff;
        overflow:hidden;
        transition: transform .1s ease, box-shadow .2s ease;
      }
      body#page-site-index #region-main .coursecard:hover,
      body.path-site #region-main .coursecard:hover,
      body.pagelayout-frontpage #region-main .coursecard:hover,
      body#page-site-index #region-main .courses .card:hover,
      body.path-site #region-main .courses .card:hover,
      body.pagelayout-frontpage #region-main .courses .card:hover,
      body#page-site-index #region-main .coursebox:hover,
      body.path-site #region-main .coursebox:hover,
      body.pagelayout-frontpage #region-main .coursebox:hover {
        transform: translateY(-2px);
        box-shadow: 0 18px 48px rgba(2,6,23,.10);
      }
      /* Nicer buttons & thumbnails inside course cards */
      body#page-site-index #region-main .coursecard .btn,
      body.path-site #region-main .coursecard .btn,
      body.pagelayout-frontpage #region-main .coursecard .btn { border-radius:10px; }
      body#page-site-index #region-main .coursecard img,
      body.path-site #region-main .coursecard img,
      body.pagelayout-frontpage #region-main .coursecard img { border-radius:10px; }

      /* Headings spacing/weight */
      body#page-site-index #region-main h2,
      body.path-site #region-main h2,
      body.pagelayout-frontpage #region-main h2 {
        margin-top:12px; margin-bottom:18px; font-weight:800;
      }
      body#page-site-index .page-header-headings h1,
      body.path-site .page-header-headings h1,
      body.pagelayout-frontpage .page-header-headings h1 { font-weight:800; }

      /* Optional: soften region main box spacing */
      body#page-site-index #region-main-box,
      body.path-site #region-main-box,
      body.pagelayout-frontpage #region-main-box { padding:32px 16px; }
      @media (min-width: 992px){
        body#page-site-index #region-main-box,
        body.path-site #region-main-box,
        body.pagelayout-frontpage #region-main-box { padding:48px 32px; }
      }
    </style>

    <div class="fp-hero-wrap">
      <div class="fp-hero">
        <div class="fp-hero__brand">
          <img class="fp-hero__logo"
               src="{{{ config.wwwroot }}}/theme/image.php?theme=boost&component=core&image=i%2Flogo"
               alt="Site logo">
          <h1 class="fp-hero__title">{{ sitename }}</h1>
          <p class="fp-hero__sub">Your learning hub. Fast, modern, and beautifully organized.</p>
          <span class="fp-chip">Welcome to Site home</span>
        </div>

        <div class="fp-hero__card">
          <h3 class="mb-2">Jump back in</h3>
          <p class="mb-3">Use the sections below to access courses, categories, and recent activity.</p>
          <div>
            <a href="{{{ config.wwwroot }}}/course/" class="btn btn-primary me-2 mb-2">Browse courses</a>
            <a href="{{{ config.wwwroot }}}/my/" class="btn btn-outline-secondary mb-2" style="border-radius:12px;">My dashboard</a>
          </div>
        </div>
      </div>
    </div>
    {{! ===== END HERO ===== }}

    {{#courseindex}}
        {{< theme_boost/drawer }}
            {{$id}}theme_boost-drawers-courseindex{{/id}}
            {{$drawerclasses}}drawer drawer-left {{#courseindexopen}}show{{/courseindexopen}}{{/drawerclasses}}
            {{$drawercontent}} {{{courseindex}}} {{/drawercontent}}
            {{$drawerpreferencename}}drawer-open-index{{/drawerpreferencename}}
            {{$drawerstate}}show-drawer-left{{/drawerstate}}
            {{$tooltipplacement}}right{{/tooltipplacement}}
            {{$closebuttontext}}{{#str}}closecourseindex, core{{/str}}{{/closebuttontext}}
        {{/ theme_boost/drawer}}
    {{/courseindex}}
    {{#hasblocks}}
        {{< theme_boost/drawer }}
            {{$id}}theme_boost-drawers-blocks{{/id}}
            {{$drawerclasses}}drawer drawer-right{{#blockdraweropen}} show{{/blockdraweropen}}{{/drawerclasses}}
            {{$drawercontent}}
                <section class="d-print-none" aria-label="{{#str}}blocks{{/str}}">
                    {{{ addblockbutton }}}
                    {{{ sidepreblocks }}}
                </section>
            {{/drawercontent}}
            {{$drawerpreferencename}}drawer-open-block{{/drawerpreferencename}}
            {{$forceopen}}{{#forceblockdraweropen}}1{{/forceblockdraweropen}}{{/forceopen}}
            {{$drawerstate}}show-drawer-right{{/drawerstate}}
            {{$tooltipplacement}}left{{/tooltipplacement}}
            {{$drawercloseonresize}}1{{/drawercloseonresize}}
            {{$closebuttontext}}{{#str}}closeblockdrawer, core{{/str}}{{/closebuttontext}}
        {{/ theme_boost/drawer}}
    {{/hasblocks}}

    <div id="page" data-region="mainpage" data-usertour="scroller" class="drawers {{#courseindexopen}}show-drawer-left{{/courseindexopen}} {{#blockdraweropen}}show-drawer-right{{/blockdraweropen}} drag-container">
        <div id="topofscroll" class="main-inner">
            <div class="drawer-toggles d-flex">
                {{#courseindex}}
                    <div class="drawer-toggler drawer-left-toggle open-nav d-print-none">
                        <button
                            class="btn icon-no-margin"
                            data-toggler="drawers"
                            data-action="toggle"
                            data-target="theme_boost-drawers-courseindex"
                            data-toggle="tooltip"
                            data-placement="right"
                            title="{{#str}}opendrawerindex, core{{/str}}"
                        >
                            <span class="sr-only">{{#str}}opendrawerindex, core{{/str}}</span>
                            {{#pix}} t/index_drawer, moodle {{/pix}}
                        </button>
                    </div>
                {{/courseindex}}
                {{#hasblocks}}
                    <div class="drawer-toggler drawer-right-toggle ml-auto d-print-none">
                        <button
                            class="btn icon-no-margin"
                            data-toggler="drawers"
                            data-action="toggle"
                            data-target="theme_boost-drawers-blocks"
                            data-toggle="tooltip"
                            data-placement="right"
                            title="{{#str}}opendrawerblocks, core{{/str}}"
                        >
                            <span class="sr-only">{{#str}}opendrawerblocks, core{{/str}}</span>
                            <span class="dir-rtl-hide">{{#pix}}t/blocks_drawer, core{{/pix}}</span>
                            <span class="dir-ltr-hide">{{#pix}}t/blocks_drawer_rtl, core{{/pix}}</span>
                        </button>
                    </div>
                {{/hasblocks}}
            </div>

            {{{ output.full_header }}}
            {{#secondarymoremenu}}
                <div class="secondary-navigation d-print-none">
                    {{> core/moremenu}}
                </div>
            {{/secondarymoremenu}}

            <div id="page-content" class="pb-3 d-print-block">
                <div id="region-main-box">
                    {{#hasregionmainsettingsmenu}}
                    <div id="region-main-settings-menu" class="d-print-none">
                        <div> {{{ regionmainsettingsmenu }}} </div>
                    </div>
                    {{/hasregionmainsettingsmenu}}
                    <section id="region-main" aria-label="{{#str}}content{{/str}}">
                        {{#hasregionmainsettingsmenu}}
                            <div class="region_main_settings_menu_proxy"></div>
                        {{/hasregionmainsettingsmenu}}
                        {{{ output.course_content_header }}}
                        {{#headercontent}}
                            {{> core/activity_header }}
                        {{/headercontent}}
                        {{#overflow}}
                            <div class="container-fluid tertiary-navigation">
                                <div class="navitem">
                                    {{> core/url_select}}
                                </div>
                            </div>
                        {{/overflow}}
                        {{{ output.main_content }}}
                        {{{ output.activity_navigation }}}
                        {{{ output.course_content_footer }}}
                    </section>
                </div>
            </div>
        </div>
        {{> theme_boost/footer }}
    </div>
    {{{ output.standard_after_main_region_html }}}
</div>

</body>
</html>
{{#js}}
M.util.js_pending('theme_boost/loader');
require(['theme_boost/loader', 'theme_boost/drawer'], function(Loader, Drawer) {
    Drawer.init();
    M.util.js_complete('theme_boost/loader');
});
{{/js}}
